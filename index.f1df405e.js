var e=globalThis,t={},i={},r=e.parcelRequiref046;function n(e){return e/180*Math.PI}null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in i){var r=i[e];delete i[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},e.parcelRequiref046=r),(0,r.register)("27Lyk",function(e,t){Object.defineProperty(e.exports,"register",{get:()=>i,set:e=>i=e,enumerable:!0,configurable:!0});var i,r=new Map;i=function(e,t){for(var i=0;i<t.length-1;i+=2)r.set(t[i],{baseUrl:e,path:t[i+1]})}}),r("27Lyk").register(new URL("",import.meta.url).toString(),JSON.parse('["iSzgC","index.f1df405e.js","3Ctj8","primitive_1.619d737d.png","erJEF","primitive_2.47181784.png","2h2n9","primitive_3.e3e59828.png","13oPy","primitive_4.09f8dc0e.png","h9ub2","primitive_5.7be3f88e.png","2zYnc","primitive_6.c0c2f77c.png","hUZmR","primitive_7.0715f6de.png","hgiwu","primitive_8.b4b96219.png","1F59b","primitive_9.f6c8bc44.png","3Fi8u","primitive_10.d1b06665.png","jR9dF","primitive_11.c3964df0.png","imi32","primitive_12.5ce4d94e.png","4hIjp","primitive_13.a975dcb7.png","25a2N","primitive_14.07f8194b.png","6uUHv","primitive_15.75934027.png","dz7wn","primitive_16.f056dac5.png","fyspn","primitive_17.dd17141a.png","hYkeP","primitive_18.53dd73fc.png","kVvBT","primitive_19.e9da6700.png","b0u6v","primitive_20.aa064793.png","gWdNk","primitive_21.c10851dd.png","27l7W","primitive_22.4169d9de.png","cP7nL","primitive_23.8f678296.png","eZYgR","primitive_24.82e1e60f.png","lg9qI","primitive_25.c6cc2249.png","jk3aK","primitive_26.04a2f442.png","9PWpC","primitive_27.dc69f377.png","e0uKM","primitive_28.f4bd7ffb.png","6YctZ","primitive_29.b0513ba9.png","4HTgW","primitive_30.9e998300.png","6kJgF","primitive_31.f8c7a6cc.png","1F5RH","primitive_32.89550f83.png","aecfE","primitive_33.ba9f3e9c.png","55ZCn","primitive_34.84751769.png","dqJny","primitive_35.4c779fe2.png","ihwvi","primitive_36.630c24b8.png","159yK","primitive_37.19c5d062.png","koJTF","primitive_39.d5d58361.png","3lrEl","primitive_40.446d6bac.png","gv6mk","primitive_41.f76b8b97.png","9HKNe","primitive_42.6c9b62e1.png","j5AjE","primitive_43.18529397.png"]'));const a={};var o={};o=new URL("primitive_1.619d737d.png",import.meta.url).toString(),a[1]=new URL(o);var p={};p=new URL("primitive_2.47181784.png",import.meta.url).toString(),a[2]=new URL(p);var m={};m=new URL("primitive_3.e3e59828.png",import.meta.url).toString(),a[3]=new URL(m);var _={};_=new URL("primitive_4.09f8dc0e.png",import.meta.url).toString(),a[4]=new URL(_);var c={};c=new URL("primitive_5.7be3f88e.png",import.meta.url).toString(),a[5]=new URL(c);var d={};d=new URL("primitive_6.c0c2f77c.png",import.meta.url).toString(),a[6]=new URL(d);var l={};l=new URL("primitive_7.0715f6de.png",import.meta.url).toString(),a[7]=new URL(l);var g={};g=new URL("primitive_8.b4b96219.png",import.meta.url).toString(),a[8]=new URL(g);var s={};s=new URL("primitive_9.f6c8bc44.png",import.meta.url).toString(),a[9]=new URL(s);var v={};v=new URL("primitive_10.d1b06665.png",import.meta.url).toString(),a[10]=new URL(v);var R={};R=new URL("primitive_11.c3964df0.png",import.meta.url).toString(),a[11]=new URL(R);var H={};H=new URL("primitive_12.5ce4d94e.png",import.meta.url).toString(),a[12]=new URL(H);var S={};S=new URL("primitive_13.a975dcb7.png",import.meta.url).toString(),a[13]=new URL(S);var u={};u=new URL("primitive_14.07f8194b.png",import.meta.url).toString(),a[14]=new URL(u);var w={};w=new URL("primitive_15.75934027.png",import.meta.url).toString(),a[15]=new URL(w);var b={};b=new URL("primitive_16.f056dac5.png",import.meta.url).toString(),a[16]=new URL(b);var E={};E=new URL("primitive_17.dd17141a.png",import.meta.url).toString(),a[17]=new URL(E);var f={};f=new URL("primitive_18.53dd73fc.png",import.meta.url).toString(),a[18]=new URL(f);var L={};L=new URL("primitive_19.e9da6700.png",import.meta.url).toString(),a[19]=new URL(L);var h={};h=new URL("primitive_20.aa064793.png",import.meta.url).toString(),a[20]=new URL(h);var F={};F=new URL("primitive_21.c10851dd.png",import.meta.url).toString(),a[21]=new URL(F);var U={};U=new URL("primitive_22.4169d9de.png",import.meta.url).toString(),a[22]=new URL(U);var A={};A=new URL("primitive_23.8f678296.png",import.meta.url).toString(),a[23]=new URL(A);var y={};y=new URL("primitive_24.82e1e60f.png",import.meta.url).toString(),a[24]=new URL(y);var x={};x=new URL("primitive_25.c6cc2249.png",import.meta.url).toString(),a[25]=new URL(x);var C={};C=new URL("primitive_26.04a2f442.png",import.meta.url).toString(),a[26]=new URL(C);var P={};P=new URL("primitive_27.dc69f377.png",import.meta.url).toString(),a[27]=new URL(P);var k={};k=new URL("primitive_28.f4bd7ffb.png",import.meta.url).toString(),a[28]=new URL(k);var q={};q=new URL("primitive_29.b0513ba9.png",import.meta.url).toString(),a[29]=new URL(q);var D={};D=new URL("primitive_30.9e998300.png",import.meta.url).toString(),a[30]=new URL(D);var I={};I=new URL("primitive_31.f8c7a6cc.png",import.meta.url).toString(),a[31]=new URL(I);var O={};O=new URL("primitive_32.89550f83.png",import.meta.url).toString(),a[32]=new URL(O);var T={};T=new URL("primitive_33.ba9f3e9c.png",import.meta.url).toString(),a[33]=new URL(T);var j={};j=new URL("primitive_34.84751769.png",import.meta.url).toString(),a[34]=new URL(j);var $={};$=new URL("primitive_35.4c779fe2.png",import.meta.url).toString(),a[35]=new URL($);var N={};N=new URL("primitive_36.630c24b8.png",import.meta.url).toString(),a[36]=new URL(N);var J={};J=new URL("primitive_37.19c5d062.png",import.meta.url).toString(),a[37]=new URL(J);var M={};M=new URL("primitive_39.d5d58361.png",import.meta.url).toString(),a[39]=new URL(M);var K={};K=new URL("primitive_40.446d6bac.png",import.meta.url).toString(),a[40]=new URL(K);var W={};W=new URL("primitive_41.f76b8b97.png",import.meta.url).toString(),a[41]=new URL(W);var Y={};Y=new URL("primitive_42.6c9b62e1.png",import.meta.url).toString(),a[42]=new URL(Y);var Z={};Z=new URL("primitive_43.18529397.png",import.meta.url).toString(),a[43]=new URL(Z);class z{constructor(e=1){this.ready=!1,this.url=a[e],this.rawData=new Image,this.rawData.src=this.url,this.rawData.addEventListener("load",()=>{this.imageData=new Image,this.imageData.src=function(e){let t=document.createElement("canvas"),i=t.getContext("2d");t.width=e.width,t.height=e.height,i.drawImage(e,0,0);let r=i.getImageData(0,0,t.width,t.height);for(let e=0;e<r.height;++e)for(let t=0;t<r.width;++t){let i=e*r.width*4+4*t,[n,a,o]=r.data.slice(i,i+3);r.data[i+3]=255-(n+a+o)/3}return i.putImageData(r,0,0),t.toDataURL()}(this.rawData),this.imageData.addEventListener("load",()=>{this.ready=!0})})}draw(e,{distance:t,angle:i,rotation:r,scale:a,order:o}){if(!this.ready)return;let p=e.getContext("2d");for(let m=0;m<o;++m){let _=i+360*m/o;p.save(),p.translate(e.width/2,e.height/2),p.rotate(n(-90+_)),p.translate(t*e.width/2,0),p.rotate(n(90+r)),p.scale(a,a),p.translate(-this.imageData.width/2,-this.imageData.height/2),p.drawImage(this.imageData,0,0),p.restore()}}}const B={};for(const e in a)B[e]=new z(e);const V={selectedPrimitive:null},G={primitives:new Map,add(e,t,{distance:i=.5,angle:r=0,rotation:n=0,scale:a=.1,order:o=1}={}){this.primitives.set(e,{primitive:t,props:{distance:i,angle:r,rotation:n,scale:a,order:o}})},remove(e){this.primitives.delete(e)},update(e,{distance:t,angle:i,rotation:r,scale:n,order:a}){let o=this.primitives.get(e).props,p={};p.distance=void 0===t?o.distance:t,p.angle=void 0===i?o.angle:i,p.rotation=void 0===r?o.rotation:r,p.scale=void 0===n?o.scale:n,p.order=void 0===a?o.order:a,this.primitives.get(e).props=p}},Q=new class{constructor(e=8,t=12,i=10,r=0,n=0){this.symOrder=e,this.divisions=t,this.radialInc=i,this.orientation=r,this.hue=n}draw(e){let t=e.getContext("2d");t.save(),t.translate(e.width/2,e.height/2);for(let i=0;i<e.width/2;i+=this.radialInc)t.save(),t.strokeStyle=`hwb(${this.hue} 75% 0%)`,t.beginPath(),t.arc(0,0,i,0,n(360)),t.closePath(),t.stroke(),t.restore();for(let i=0;i<this.symOrder*this.divisions;i++)t.save(),t.rotate(n(this.orientation)+n(i*(360/(this.symOrder*this.divisions)))),t.strokeStyle=`hwb(${this.hue} 50% 0%)`,t.beginPath(),t.moveTo(0,0),t.lineTo(e.width/2,0),t.closePath(),t.stroke(),t.restore();for(let i=0;i<this.symOrder;i++)t.save(),t.rotate(n(this.orientation)+n(i*(360/this.symOrder))),t.strokeStyle=`hwb(${this.hue} 0% 0%)`,t.beginPath(),t.moveTo(0,0),t.lineTo(e.width/2,0),t.closePath(),t.stroke(),t.restore();t.restore()}},X=document.querySelector("#prim-option-box");for(const e in B)!function(e,t){let i=document.createElement("button"),r=document.createElement("img");r.classList.add("image-icon"),r.src=B[t].url,i.appendChild(r),i.classList.add("image-button"),i.addEventListener("click",()=>{let e=document.querySelector("#prim-used-box"),i=Symbol();G.add(i,B[t],{order:8}),ei(i),function(e,t,i){let r=document.createElement("div"),n=document.createElement("img");n.classList.add("image-icon"),n.src=B[t].url,r.appendChild(n);let a=document.createElement("button");a.textContent="Delete",a.addEventListener("click",e=>{e.stopPropagation(),G.remove(i),ei(null),r.remove()}),r.appendChild(a),r.classList.add("prim-entry"),r.addEventListener("click",()=>{ei(i)}),e.appendChild(r)}(e,t,i)}),e.appendChild(i)}(X,e);const ee={distance:document.querySelector("#control-distance"),angle:document.querySelector("#control-angle"),rotation:document.querySelector("#control-rotation"),scale:document.querySelector("#control-scale")};function et(){window.requestAnimationFrame(et);let e=document.querySelector("#main-canvas");!function(e){e.getContext("2d").clearRect(0,0,e.width,e.height)}(e),Q.draw(e),G.primitives.forEach(({primitive:t,props:i})=>{t.draw(e,i)})}function ei(e){V.selectedPrimitive=e;let t=document.querySelector("#controls-set");if(null===e)t.classList.add("hidden");else{t.classList.remove("hidden");let i=G.primitives.get(e).props;ee.distance.value=`${i.distance}`,ee.angle.value=`${i.angle}`,ee.rotation.value=`${i.rotation}`,ee.scale.value=`${i.scale}`}}ee.distance.min="0",ee.distance.max="1",ee.distance.step="0.01",ee.distance.addEventListener("input",e=>{G.update(V.selectedPrimitive,{distance:+e.target.value}),document.querySelector("#control-distance + span").textContent=+e.target.value}),ee.angle.min="0",ee.angle.max="359",ee.angle.addEventListener("input",e=>{G.update(V.selectedPrimitive,{angle:+e.target.value}),document.querySelector("#control-angle + span").textContent=+e.target.value}),ee.rotation.min="0",ee.rotation.max="359",ee.rotation.addEventListener("input",e=>{G.update(V.selectedPrimitive,{rotation:+e.target.value}),document.querySelector("#control-rotation + span").textContent=+e.target.value}),ee.scale.min="0",ee.scale.max="1",ee.scale.step="0.01",ee.scale.addEventListener("input",e=>{G.update(V.selectedPrimitive,{scale:+e.target.value}),document.querySelector("#control-scale + span").textContent=+e.target.value}),window.onload=function(){window.requestAnimationFrame(et)};
//# sourceMappingURL=index.f1df405e.js.map
